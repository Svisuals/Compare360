<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframe Toggle with Third Iframe Viewer</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        #container {
            display: flex;
            width: 100%;
            height: 100%;
            position: relative;
            flex-direction: row; /* Por padrão, dividir horizontalmente */
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        #iframe2 {
            display: none;
        }

        #iframe3 {
            display: none;
            width: 50%; /* Tamanho inicial do terceiro iframe */
            height: 100%;
            position: absolute;
            top: 0;
            right: 0;
            border: 1px solid #ccc;
            z-index: 999;
        }

        #toggleButton {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 24px;
            height: 24px;
            background-color: #007BFF;
            border: none;
            cursor: pointer;
            z-index: 1000;
        }

        #toggleIframe3Button {
            position: absolute;
            top: 2cm; /* Ajustado conforme solicitado */
            left: 2cm; /* Ajustado conforme solicitado */
            width: 24px;
            height: 24px;
            background-color: red;
            border: none;
            cursor: pointer;
            z-index: 1000;
            display: none; /* Por padrão, o terceiro iframe está escondido */
        }

        @media (max-width: 768px) {
            #container {
                flex-direction: column;
            }

            iframe {
                width: 100%;
                height: 50%;
            }

            #iframe2 {
                display: block;
            }

            #toggleButton {
                top: auto;
                bottom: 10px;
            }

            #iframe3 {
                display: none;
            }
        }

        /* Nova regra para dividir horizontalmente quando o terceiro iframe está visível */
        @media (min-width: 769px) {
            #container.horizontal-split {
                flex-direction: row;
            }

            #iframe1 {
                width: 100%; /* Ocupa toda a largura por padrão */
            }

            #iframe3 {
                display: block;
                width: 50%; /* Terceiro iframe ocupa metade da largura */
                height: 100%; /* Altura de 100% para o terceiro iframe */
            }
        }

        .login-form {
            max-width: 300px;
            margin: 100px auto;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            text-align: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
            background-color: #000; /* Fondo negro */
            color: #fff; /* Texto blanco */
        }

        .login-form img {
            display: block;
            margin: 0 auto 10px auto;
            max-width: 100px; /* Ajusta el tamaño del logo según sea necesario */
        }

        .login-form h2 {
            text-align: center;
            color: #fff; /* Texto blanco */
        }

        .login-form input[type="text"], .login-form input[type="password"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            box-sizing: border-box;
        }

        .login-form button {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        .login-form button:hover {
            background-color: #45a049;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <button id="toggleButton"></button>
    <div id="container">
        <iframe id="iframe1" src="https://svisuals.github.io/O360/"></iframe>
        <iframe id="iframe2" src="https://svisuals.github.io/O360/"></iframe>
        <iframe id="iframe3" src=""></iframe>
        <button id="toggleIframe3Button"></button>
    </div>
    <div class="login-form hidden" id="loginForm">
        <img src="SV AECO Logo.png" alt="Logo"> <!-- Asegúrate de que la imagen esté en la misma carpeta que este archivo -->
        <h2>Acesso ao Tour 360</h2>
        <input type="text" id="username" placeholder="Usuario">
        <input type="password" id="password" placeholder="Contraseña">
        <button onclick="login()">Ingresar</button>
    </div>
    <script>
        const toggleButton = document.getElementById('toggleButton');
        const iframe1 = document.getElementById('iframe1');
        const iframe2 = document.getElementById('iframe2');
        const iframe3 = document.getElementById('iframe3');
        const toggleIframe3Button = document.getElementById('toggleIframe3Button');
        const loginForm = document.getElementById('loginForm');

        // Esconder o terceiro iframe por padrão
        iframe3.style.display = 'none';

        // Event listener para alternar visibilidade do terceiro iframe ao clicar no botão vermelho
        toggleIframe3Button.addEventListener('click', () => {
            loginForm.classList.remove('hidden'); // Mostrar formulário de login
        });

        // Event listener para alternar visibilidade dos iframes ao clicar no botão azul
        toggleButton.addEventListener('click', () => {
            if (iframe2.style.display === 'none') {
                // Mostrar iframe2
                iframe2.style.display = 'block';
                iframe1.style.width = '50%';
                iframe2.style.width = '50%';
                iframe3.style.display = 'none'; // Garantir que o terceiro iframe esteja oculto ao mostrar iframe2
                toggleIframe3Button.style.display = 'none';
                document.getElementById('container').classList.remove('horizontal-split');
            } else {
                // Verificar se o terceiro iframe está visível e o iframe2 está visível
                if (iframe3.style.display === 'none' && iframe2.style.display === 'block') {
                    // Mostrar terceiro iframe apenas se iframe2 estiver oculto
                    iframe2.style.display = 'none';
                    iframe1.style.width = '100%';
                    toggleIframe3Button.style.display = 'block';
                    document.getElementById('container').classList.remove('horizontal-split');
                } else {
                    // Mostrar iframe2
                    iframe2.style.display = 'block';
                    iframe1.style.width = '50%';
                    iframe2.style.width = '50%';
                    iframe3.style.display = 'none';
                    toggleIframe3Button.style.display = 'none';
                    document.getElementById('container').classList.remove('horizontal-split');
                }
            }
        });

        // Ajustar o layout com base no tamanho da janela
        function adjustLayout() {
            if (window.innerWidth <= 768) {
                // Modo celular/tablet
                iframe1.style.width = '100%';
                iframe1.style.height = '50%';
                iframe2.style.width = '100%';
                iframe2.style.height = '50%';
                iframe3.style.display = 'none';
                toggleIframe3Button.style.display = 'none';
                document.getElementById('container').classList.remove('horizontal-split');
            } else {
                // Modo desktop
                iframe1.style.height = '100%';
                if (iframe2.style.display === 'block') {
                    iframe1.style.width = '50%';
                    iframe2.style.width = '50%';
                    iframe3.style.display = 'none';
                    toggleIframe3Button.style.display = 'none';
                    document.getElementById('container').classList.remove('horizontal-split');
                } else if (iframe3.style.display === 'block') {
                    iframe1.style.width = '50%';
                    iframe3.style.width = '50%';
                    toggleIframe3Button.style.display = 'block';
                    document.getElementById('container').classList.add('horizontal-split');
                } else {
                    iframe1.style.width = '100%';
                    toggleIframe3Button.style.display = 'block';
                    document.getElementById('container').classList.remove('horizontal-split');
                }
            }
        }

        // Chamar adjustLayout ao carregar a página e redimensionar a janela
        window.addEventListener('load', adjustLayout);
        window.addEventListener('resize', adjustLayout);

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username === 'ADM' && password === '1234') {
                loginForm.classList.add('hidden');
                iframe3.style.display = 'block';
                iframe3.src = "https://svisuals.github.io/O360/"; // URL do terceiro iframe
                document.getElementById('container').classList.add('horizontal-split');
                iframe1.style.width = '50%'; // Ajusta o iframe1 para ocupar metade da largura
            } else {
                alert('Usuario o contraseña incorrectos.');
            }
        }
    </script>
</body>
</html>
