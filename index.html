<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acompanhamento de Obra 360</title>
    <style>
        /* CSS mantendrá su estructura original, con algunas modificaciones */
    </style>
</head>
<body>
    <div id="toggleButton"></div>

    <!-- Menú desplegable para iframe1 -->
    <label for="iframe1Select">Seleccionar página para iframe 1:</label>
    <select id="iframe1Select">
        <option value="https://momento360.com/e/uc/e0e6b60410484a949026c3aec52ef112?utm_campaign=embed&utm_source=other&size=large&display-plan=true">O360</option>
        <option value="https://svisuals.github.io/ExcelViwer/">Excel Viewer</option>
        <option value="https://momento360.com/e/uc/e39b5e2ef7864507b34ca0ee97cebca3?utm_campaign=embed&utm_source=other&size=large&display-plan=true">Otro sitio web</option>
    </select>

    <!-- Menú desplegable para iframe2 -->
    <label for="iframe2Select">Seleccionar página para iframe 2:</label>
    <select id="iframe2Select">
        <option value="https://momento360.com/e/uc/e0e6b60410484a949026c3aec52ef112?utm_campaign=embed&utm_source=other&size=large&display-plan=true">O360</option>
        <option value="https://svisuals.github.io/ExcelViwer/">Excel Viewer</option>
        <option value="https://momento360.com/e/uc/e39b5e2ef7864507b34ca0ee97cebca3?utm_campaign=embed&utm_source=other&size=large&display-plan=true">Otro sitio web</option>
    </select>

    <div id="container">
        <!-- Iframes con URL inicial por defecto -->
        <iframe id="iframe1" src="https://momento360.com/e/uc/e0e6b60410484a949026c3aec52ef112?utm_campaign=embed&utm_source=other&size=large&display-plan=true"></iframe>
        <iframe id="iframe2" src="https://momento360.com/e/uc/e39b5e2ef7864507b34ca0ee97cebca3?utm_campaign=embed&utm_source=other&size=large&display-plan=true"></iframe>
        <iframe id="iframe3" src="https://svisuals.github.io/ExcelViwer/"></iframe>
        <div id="toggleIframe3Button"></div>
    </div>
    
    <script>
        /* JavaScript para manejar el cambio de URL en los iframes */

        const iframe1 = document.getElementById('iframe1');
        const iframe2 = document.getElementById('iframe2');
        const iframe3 = document.getElementById('iframe3');
        const toggleIframe3Button = document.getElementById('toggleIframe3Button');

        // Establecer el valor del menú desplegable según la URL por defecto
        document.getElementById('iframe1Select').value = iframe1.src;
        document.getElementById('iframe2Select').value = iframe2.src;

        // Menú desplegable para cambiar la URL en iframe1
        document.getElementById('iframe1Select').addEventListener('change', function() {
            iframe1.src = this.value;
        });

        // Menú desplegable para cambiar la URL en iframe2
        document.getElementById('iframe2Select').addEventListener('change', function() {
            iframe2.src = this.value;
        });

        // Resto del código JavaScript para manejo de botones y visibilidad
        const toggleButton = document.getElementById('toggleButton');

        toggleButton.addEventListener('click', () => {
            if (iframe2.style.display === 'none') {
                iframe2.style.display = 'block';
                iframe1.style.width = '50%';
                iframe2.style.width = '50%';
                iframe3.style.display = 'none';
                toggleIframe3Button.style.display = 'none';
                toggleButton.style.left = '49%';
                document.getElementById('container').classList.remove('horizontal-split');
            } else {
                iframe2.style.display = 'none';
                iframe1.style.width = '100%';
                toggleIframe3Button.style.display = 'block';
                toggleButton.style.left = 'calc(50% + 4cm)';
                document.getElementById('container').classList.remove('horizontal-split');
            }
        });

        toggleIframe3Button.addEventListener('click', () => {
            if (iframe3.style.display === 'none') {
                iframe3.style.display = 'block';
                document.getElementById('container').classList.add('horizontal-split');
                iframe1.style.width = '50%';
                toggleButton.style.left = '49%';
            } else {
                iframe3.style.display = 'none';
                document.getElementById('container').classList.remove('horizontal-split');
                iframe1.style.width = '100%';
                toggleButton.style.left = 'calc(50% + 4cm)';
            }
        });

        // Ajustar el layout basado en el tamaño de la ventana
        function adjustLayout() {
            if (window.innerWidth <= 768) {
                iframe1.style.width = '100%';
                iframe1.style.height = '50%';
                iframe2.style.width = '100%';
                iframe2.style.height = '50%';
                iframe3.style.display = 'none';
                toggleIframe3Button.style.display = 'none';
                document.getElementById('container').classList.remove('horizontal-split');
            } else {
                iframe1.style.height = '100%';
                if (iframe2.style.display === 'block') {
                    iframe1.style.width = '50%';
                    iframe2.style.width = '50%';
                    iframe3.style.display = 'none';
                    toggleIframe3Button.style.display = 'none';
                    document.getElementById('container').classList.remove('horizontal-split');
                } else if (iframe3.style.display === 'block') {
                    iframe1.style.width = '50%';
                    iframe3.style.width = '50%';
                    toggleIframe3Button.style.display = 'block';
                    document.getElementById('container').classList.add('horizontal-split');
                } else {
                    iframe1.style.width = '100%';
                    toggleIframe3Button.style.display = 'block';
                    document.getElementById('container').classList.remove('horizontal-split');
                }
            }
        }

        // Event listener para ajustar el layout cuando se redimensiona la ventana
        window.addEventListener('resize', adjustLayout);
        adjustLayout();
    </script>
</body>
</html>
